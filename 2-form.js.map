{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst formEl = document.querySelector('.feedback-form');\n\n// console.log(formData);\n// console.log(formEl);\n\nconst fillFormFields = () => {\n  try {\n    // console.log(localStorage.getItem('feedback-form-state'));\n    if (localStorage.getItem('feedback-form-state') === null) {\n      return;\n    }\n\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    // console.log(formDataFromLS);\n\n    for (const fieldName in formDataFromLS) {\n      // console.log(fieldName);\n\n      formData[fieldName] = formDataFromLS[fieldName];\n\n      // console.log(formData[fieldName]);\n\n      formEl.elements[fieldName].value = formDataFromLS[fieldName];\n\n      // console.log(formEl.elements[fieldName].value);\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nfillFormFields();\n\nconst onFormInputFn = ({ target: formfieldEl }) => {\n  // console.dir(formfieldEl);\n\n  const { name: fieldName, value: fieldValue } = formfieldEl;\n\n  // console.log(fieldName);\n  // console.log(fieldValue);\n\n  formData[fieldName] = fieldValue.trim();\n\n  // console.log(formData);\n\n  try {\n    const formDataLS = JSON.stringify(formData);\n\n    localStorage.setItem('feedback-form-state', formDataLS);\n\n    // console.log(formDataLS);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nformEl.addEventListener('input', onFormInputFn);\n\nconst onFormSubmitFn = event => {\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n\n    event.preventDefault();\n\n    const { currentTarget: formEl } = event;\n\n    formEl.reset();\n\n    localStorage.removeItem('feedback-form-state');\n\n    formData.email = '';\n    formData.message = '';\n  }\n};\n\nformEl.addEventListener('submit', onFormSubmitFn);"],"names":["formData","formEl","fillFormFields","formDataFromLS","fieldName","err","onFormInputFn","formfieldEl","fieldValue","formDataLS","onFormSubmitFn","event"],"mappings":"oDAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAS,SAAS,cAAc,gBAAgB,EAKhDC,EAAiB,IAAM,CAC3B,GAAI,CAEF,GAAI,aAAa,QAAQ,qBAAqB,IAAM,KAClD,OAGF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EAII,UAAWC,KAAaD,EAGtBH,EAASI,CAAS,EAAID,EAAeC,CAAS,EAI9CH,EAAO,SAASG,CAAS,EAAE,MAAQD,EAAeC,CAAS,CAI9D,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAH,IAEA,MAAMI,EAAgB,CAAC,CAAE,OAAQC,KAAkB,CAGjD,KAAM,CAAE,KAAMH,EAAW,MAAOI,CAAU,EAAKD,EAK/CP,EAASI,CAAS,EAAII,EAAW,KAAI,EAIrC,GAAI,CACF,MAAMC,EAAa,KAAK,UAAUT,CAAQ,EAE1C,aAAa,QAAQ,sBAAuBS,CAAU,CAGvD,OAAQJ,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAJ,EAAO,iBAAiB,QAASK,CAAa,EAE9C,MAAMI,EAAiBC,GAAS,CAC9B,GAAIX,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,MAAM,wBAAwB,MACzB,CACL,QAAQ,IAAIA,CAAQ,EAEpBW,EAAM,eAAc,EAEpB,KAAM,CAAE,cAAeV,CAAQ,EAAGU,EAElCV,EAAO,MAAK,EAEZ,aAAa,WAAW,qBAAqB,EAE7CD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACpB,CACH,EAEAC,EAAO,iBAAiB,SAAUS,CAAc"}